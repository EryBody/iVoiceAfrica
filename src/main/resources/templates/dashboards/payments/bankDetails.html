<!DOCTYPE html>
<html class="no-js" lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<meta http-equiv="x-ua-compatible" content="ie=edge" />
<title>Select Bank</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="../../assets/CSS/css/bootstrap.min.css" />
<link rel="stylesheet" href="../../assets/CSS/css/metisMenu.css" />
<link rel="stylesheet" href="../../assets/CSS/css/slicknav.min.css" />
<link rel="shortcut icon"
	href="../../assets/images/ivoiceafrica logo 1.png" type="image/x-icon" />
<link
	href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
	rel="stylesheet" />
<!-- amchart css -->
<link rel="stylesheet"
	href="https://www.amcharts.com/lib/3/plugins/export/export.css"
	type="text/css" media="all" />
<!-- others css -->
<link rel="stylesheet" href="../../assets/CSS/css/typography.css" />
<link rel="stylesheet" href="../../assets/CSS/css/default-css.css" />
<link rel="stylesheet" href="../../assets/CSS/css/styles.css" />
<link rel="stylesheet" href="../../assets/CSS/css/responsive.css" />
<!-- modernizr css -->
<script src="../../assets/JS/js/vendor/modernizr-2.8.3.min.js"></script>
<script src="../../assets/JS/js/scripts.js" defer></script>
<link rel="stylesheet" type="text/css"
	href="../../assets/sweetalert/sweetalert2.css">
<link rel="stylesheet" type="text/css"
	href="../../assets/sweetalert/sweetalert2.min.css">

<!-- modernizr css -->
<script src="../../assets/JS/js/vendor/modernizr-2.8.3.min.js" defer></script>
<script src="../../assets/JS/js/scripts.js" defer></script>

<script
	src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" defer></script>
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css" />
<style>
.custom-select-arrow-payment {
	position: absolute;
	top: 25%;
	right: 0;
	transform: translate(-50%, -50%);
	display: block;
	width: 1.2em;
	height: 50%;
	pointer-events: none;
}
</style>
</head>

<body>
	<div id="preloader">
		<div class="loader"></div>
	</div>
	<!-- preloader area end -->
	<!-- page container area start -->
	<div class="page-container">
		<!-- Header area start -->

		<div class="overlay"></div>

		<!-- top-nav start -->
		<div th:replace="fragments/main_topnav_freelancer :: topnavfreelancer"></div>
		<!-- top-nav end -->


		<!-- side-nav start -->
		<div
			th:replace="fragments/main_sidenav_freelancer :: sidenavfreelancer"></div>
		<!-- side-nav end -->

		<div class="main">
			<div class="main__headerbox">
				<h1>Bank Details</h1>
			</div>

			<!-- job alerts area start -->
			<!-- job alerts area start -->
			<div class="main__contentbox mt-5">
			
				<div class="arrow_back_link">
					<a th:href="@{/freelancer-finances}"> <img
						src="../../assets/icons/arrow_back_link.svg" alt="arrow_back_link" />
					</a>
				</div>

				<div class="mt-3" id="outer-div">
					<div class="mt-4 mr-5" id="inner-div">
						<div class="job-alerts">
							<div class="job-alerts-card-body my-3">
								<div>
									<div class="payment-title">
										<h1>Add your bank details</h1>
									</div>

									<div class="mt-4">

										<!-- Naria account -->
										<form th:action="@{/add-freelancer-bank}"
											th:object="${AddBankDTO}" method="post">

											<div class="row mt-2">

												<div class="col-md-12 ">
													<div class="clientform-section2 mt-4 mb-4">
														<select id="selector" style="appearance: none" name="country"
															onchange="onChangeCountry();">
															<option value="">Select Country</option>
															<option value="NG">Nigeria</option>
															<option value="GH">Ghana</option>
															<option value="UG">Uganda</option>
															<option value="ZM">Zambia</option>
															<option value="TZ">Tanzania</option>
															<option value="KE">Kenya</option>
															<option value="ZA">South Africa</option>
														</select> <span class="custom-select-arrow-payment mb-4"></span>
													</div>
												</div>

												<div class="col-md-12 ">
													<div class="clientform-section2 mb-4">

														<select id="bankSelect" style="appearance: none"
															name="bankCode" onchange="onChangeBank();">
															<option value="">Select Bank</option>
														</select> <span class="custom-select-arrow-payment mb-4"></span>
													</div>
												</div>
												
												<div class="col-md-12 ">
													<div class="clientform-section2 mb-4">

														<select id="bankBranchSelect" style="appearance: none"
															name="bankBranchCodeAndName">
															<option value="">Select Bank Branch</option>
														</select> <span class="custom-select-arrow-payment mb-4"></span>
													</div>
												</div>

												<div class="col-md-12">
													<div class="input-group mb-4">
														<label for="">First Name</label> <input type="text"
															placeholder="First Name" name="firstName" id="amount" />
													</div>
													
													<div class="input-group mb-4">
														<label for="">Last Name</label> <input type="text"
															placeholder="Last Name" name="lastName" id="amount" />
													</div>
													
													<div class="input-group mb-4">
														<label for="">Middle Name</label> <input type="text"
															placeholder="Middle Name" name="middleName" id="amount" />
													</div>
													
													<div class="input-group mb-4">
														<label for="">Account Number</label> <input type="text"
															placeholder="Account Number" name="accountNumber" id="amount" />
													</div>
													
													<div class="input-group mb-4">
														<label for="">Merchant Name(Optional)</label> <input type="text"
															placeholder="Merchant Name" name="merchantName" id="amount" />
													</div>
													
													<div class="input-group mb-4">
														<label for="">Routing Number(Optional)</label> <input type="text"
															placeholder="Routing Number" name="routingNumber" id="amount" />
													</div>
													
													<div class="input-group mb-4">
														<label for="">Swift Number(Optional)</label> <input type="text"
															placeholder="Swift Number" name="swiftCode" id="amount" />
													</div>
												</div>
											</div>

											<div class="mt-5">
												<a th:href="@{/freelancer-finances}"><button type="button"
														name="Go Back" class="btn btn-danger btn-lg">Cancel</button></a>


												<button type="submit" name="Submit" value="Proceed to pay"
													class="btn btn-success btn-lg">Proceed to pay</button>
											</div>

										</form>
									</div>


								</div>

							</div>
						</div>

					</div>
				</div>
			</div>

		</div>
	</div>
	<!-- logout modal -->

	<div class="modal fade" id="logoutModal" data-backdrop="static"
		data-keyboard="false" tabindex="-1"
		aria-labelledby="staticBackdropLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content logoutModal">
				<div class="modal-header">
					<p class="modal-title" id="logoutModalLabel">Log out of iVoice
						Africa?</p>
				</div>
				<div class="modal-body logoutModal-body">You can log in
					anytime with your email and password</div>
				<div class="modal-footer logoutModal-footer">
					<a href="../../onboarding/client/sign-in.html">
						<button class="transparentBtn">Logout</button>
					</a>
					<button class="logoutBtn" data-dismiss="modal" aria-label="Close">
						Cancel</button>
				</div>
			</div>
		</div>
	</div>
	<!-- jquery latest version -->
	<script src="../../assets/JS/js/vendor/jquery-2.2.4.min.js"></script>
	<!-- bootstrap 4 js -->
	<script src="../../assets/JS/js/popper.min.js"></script>
	<script src="../../assets/JS/js/bootstrap.min.js"></script>
	<script src="../../assets/JS/js/owl.carousel.min.js"></script>
	<script src="../../assets/JS/js/metisMenu.min.js"></script>
	<script src="../../assets/JS/js/jquery.slimscroll.min.js"></script>
	<script src="../../assets/JS/js/jquery.slicknav.min.js"></script>
	<script type="module"
		src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
	<script nomodule
		src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
	<!-- others plugins -->
	<script src="../../assets/JS/js/plugins.js"></script>
	<script src="../../assets/JS/js/scripts.js"></script>
	<script src="../../assets/sweetalert/sweetalert2.all.js"></script>
	<script src="../../assets/sweetalert/sweetalert2.all.min.js"></script>
	<script src="../../assets/sweetalert/sweetalert2.js"></script>
	<script src="../../assets/sweetalert/sweetalert2.min.js"></script>
	<script>
	
		function onChangeCountry() {

			var e = document.getElementById("selector");
			var countryCode = e.options[e.selectedIndex];

			console.log("countryCode: " + countryCode.value);

			getBanks(countryCode.value);

		}
		
		
		function onChangeBank() {

			var e = document.getElementById("bankSelect");
			var bankCode = e.options[e.selectedIndex];

			console.log("Bank Code: " + bankCode.value);

			getBankBranches(bankCode.value);

		}

		
		function getBanks(countryCode) {
		
			var href = "/get-banks/" + countryCode;

			$.get(href, function(userRoles, status) {
				
				if(userRoles == 0 || userRoles == null){
					$('#bankSelect').empty().append(
					'<option value="">An Error occurred while getting banks, try later</option>');
				}else{
					
					userRoles.forEach(function(roles) {
						/* console.log(roles); */
						$('#bankSelect').append(
								'<option value="' + roles.bankCode + '">'
										+ roles.bankName + '</option>');
					});
				}
			});
		}
		
		
		function getBankBranches(bankCode) {
			var href = "/get-bank-branches/" + bankCode;

			$('#bankBranchSelect').empty().append(
					'<option value="">Select Bank Branch</option>');

			$.get(href, function(branches, status) {
				
				if(branches == 0 || branches == null){
					$('#bankBranchSelect').empty().append(
					'<option value="">No bank branch available for this bank</option>');
				}else{
					branches.forEach(function(bank) {
						console.log(bank);

						$('#bankBranchSelect').append(
								'<option value="' + bank.branch_code+"-"+bank.branch_name+ '">'
										+ bank.branch_name + '</option>');
						
					});
				}
			});
		}
	</script>
</body>
</html>
